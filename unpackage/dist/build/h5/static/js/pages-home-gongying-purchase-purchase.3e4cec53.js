(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-home-gongying-purchase-purchase"],{"047c":function(t,e,i){"use strict";var n=i("9cc3"),a=i.n(n);a.a},1622:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var n={uniNumberBox:i("c713").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("cu-custom",{attrs:{bgColor:"bg-green",isBack:!0,showBackImg:!0}},[i("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("采购信息")])],2),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.location,expression:"location"}],staticClass:"padding bg-white flex justify-between align-center padding-tb-xl",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tpLocationList.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"text-green"},[i("v-uni-text",{staticClass:"cuIcon-roundadd margin-right-sm",staticStyle:{"font-size":"36rpx"}}),t._v("添加收货地址")],1),i("v-uni-view",{staticClass:"cuIcon-right text-gray",staticStyle:{"font-size":"32rpx"}})],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!t.location,expression:"!location"}],staticClass:"padding bg-white flex justify-between align-center  padding-tb-xl",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tpLocationList.apply(void 0,arguments)}}},[i("v-uni-view",[i("v-uni-view",{staticClass:"text-bold margin-bottom-xs"},[t._v(t._s(t.address.receive_name)+" "+t._s(t.address.receive_phone))]),i("v-uni-view",{staticClass:"text-gray"},[1==t.address.is_default?i("v-uni-text",{staticClass:"text-black"},[t._v("【默认】")]):t._e(),t._v(t._s(t.city)+t._s(t.address.address))],1)],1),i("v-uni-view",{staticClass:"cuIcon-right text-black",staticStyle:{"font-size":"32rpx"}})],1),i("v-uni-view",{staticClass:"bg-white padding margin-top"},[i("v-uni-view",{staticClass:"flex justify-between margin-tb-xs"},[i("v-uni-view",[t._v(t._s(t.storeInfo.store_name))]),i("v-uni-text",{staticClass:"cuIcon-right"})],1),i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-image",{staticStyle:{width:"179rpx",height:"190rpx"},attrs:{src:t.http.resourceUrl()+t.storeInfo.img,mode:"aspectFill"}}),i("v-uni-view",{staticClass:"margin-left"},[i("v-uni-view",{staticClass:"margin-bottom-xs"},[t._v(t._s(t.storeInfo.breed_name))]),i("v-uni-view",{staticClass:"margin-bottom-xs"},[t._v(t._s(t.storeInfo.desc))]),i("v-uni-view",{staticClass:"text-orange margin-bottom-xs"},[t._v(t._s(t.storeInfo.price))])],1)],1),i("v-uni-view",{staticClass:"flex justify-between margin-tb"},[i("v-uni-view",[t._v("购买数量")]),i("uni-number-box",{attrs:{value:t.number,max:9999},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"flex justify-between margin-tb solids-bottom padding-tb margin-top-xl"},[i("v-uni-view",[i("v-uni-text",{staticClass:"text-red"},[t._v("*")]),t._v("请选择到货日期")],1),i("v-uni-picker",{attrs:{mode:"date",value:t.date,start:"2015-09-01",end:"2100-09-01"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.DateChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"picker"},[t._v(t._s(t.date))])],1)],1),i("v-uni-view",{staticClass:"flex align-start justify-start"},[i("v-uni-view",{staticClass:"title",staticStyle:{width:"120rpx"}},[t._v("备注：")]),i("v-uni-textarea",{attrs:{maxlength:"200",placeholder:"（请备注详细的采购要求，最多200字）"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.textareaInput.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"text-green"},[i("v-uni-view",{staticStyle:{"text-indent":"2em"}},[t._v("1、请将详细需求在备注中描述清楚，并于供应方协商一致，备注是重要凭证。")]),i("v-uni-view",{staticStyle:{"text-indent":"2em"}},[t._v("2、供应商接受订单后未按时发货给您造成损失，平台将用供")])],1)],1),i("v-uni-view",{staticClass:"cu-tabbar-height"}),i("v-uni-button",{staticClass:"cu-btn bg-green logobtn ",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.order.apply(void 0,arguments)}}},[t._v("立即购买")])],1)},s=[]},1827:function(t,e,i){"use strict";i.r(e);var n=i("1622"),a=i("68f1");for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("c767");var o,r=i("f0c5"),u=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"dbc277ae",null,!1,n["a"],o);e["default"]=u.exports},"1ae3":function(t,e,i){var n=i("9fce");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("5511c450",n,!0,{sourceMap:!1,shadowMode:!1})},"539d":function(t,e,i){"use strict";i.r(e);var n=i("661c"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},"661c":function(t,e,i){"use strict";i("a9e3"),i("ac1f"),i("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"UniNumberBox",props:{value:{type:[Number,String],default:1},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},disabled:{type:Boolean,default:!1}},data:function(){return{inputValue:0}},watch:{value:function(t){this.inputValue=+t},inputValue:function(t,e){+t!==+e&&this.$emit("change",t)}},created:function(){this.inputValue=+this.value},methods:{_calcValue:function(t){if(!this.disabled){var e=this._getDecimalScale(),i=this.inputValue*e,n=this.step*e;"minus"===t?i-=n:"plus"===t&&(i+=n),i<this.min||i>this.max||(this.inputValue=String(i/e))}},_getDecimalScale:function(){var t=1;return~~this.step!==this.step&&(t=Math.pow(10,(this.step+"").split(".")[1].length)),t},_onBlur:function(t){var e=t.detail.value;e&&(e=+e,e>this.max?e=this.max:e<this.min&&(e=this.min),this.inputValue=e)}}};e.default=n},"68f1":function(t,e,i){"use strict";i.r(e);var n=i("9dbe"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},9168:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-numbox"},[i("v-uni-view",{staticClass:"uni-numbox__minus",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._calcValue("minus")}}},[i("v-uni-text",{staticClass:"uni-numbox--text",class:{"uni-numbox--disabled":t.inputValue<=t.min||t.disabled}},[t._v("-")])],1),i("v-uni-input",{staticClass:"uni-numbox__value",attrs:{disabled:t.disabled,type:"number"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t._onBlur.apply(void 0,arguments)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}),i("v-uni-view",{staticClass:"uni-numbox__plus",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._calcValue("plus")}}},[i("v-uni-text",{staticClass:"uni-numbox--text",class:{"uni-numbox--disabled":t.inputValue>=t.max||t.disabled}},[t._v("+")])],1)],1)},s=[]},"9cc3":function(t,e,i){var n=i("e80b");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("e485ad6c",n,!0,{sourceMap:!1,shadowMode:!1})},"9dbe":function(t,e,i){"use strict";var n=i("4ea4");i("4160"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("c713")),s={components:{uniNumberBox:a.default},onLoad:function(t){this.supply_id=t.supply_id,this.getInfo()},onShow:function(){this.address_id=uni.getStorageSync("address_id"),this.address_id?this.getAddress():this.getDefaultAddress()},data:function(){return{supply_id:"",address_id:"",city:"",location:!0,address:"",storeInfo:"",number:0,date:"2021-1-1",textareaValue:""}},methods:{getInfo:function(){var t=this;this.http.post("order/getReadyOrderDetail",{supply_id:this.supply_id}).then((function(e){1e3==e.code&&(t.storeInfo=e.data)}))},getDefaultAddress:function(){var t=this;this.http.post("address/getList").then((function(e){1e3==e.code&&0!=e.data.length&&e.data.forEach((function(e){1==e.is_default&&(t.location=!1,t.address=e,t.city=e.area.merger_name)}))}))},getAddress:function(){var t=this;this.http.post("address/getAddressDetail",{address_id:this.address_id}).then((function(e){1e3==e.code&&(t.location=!1,t.address=e.data,t.city=e.data.city)}))},tpLocationList:function(){uni.navigateTo({url:"locationList"})},change:function(t){this.number=t},DateChange:function(t){this.date=t.detail.value},textareaInput:function(t){this.textareaValue=t.detail.value},order:function(){var t=this;uni.showLoading({title:"正在下单...",mask:!0}),this.http.post("order/createOrder",{supply_id:this.supply_id,address_id:this.address_id,count:this.number,arrive_at:this.date,memo:this.textareaValue},!0).then((function(e){1e3==e.code&&(uni.hideLoading(),t.http.toast(e.msg),setTimeout((function(){uni.redirectTo({url:"order?order_id="+e.data.order_id})}),1e3))}))}}};e.default=s},"9fce":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".logobtn[data-v-dbc277ae]{width:100%;height:%?88?%;position:fixed;bottom:%?0?%;-webkit-border-radius:0;border-radius:0;z-index:999}",""]),t.exports=e},c713:function(t,e,i){"use strict";i.r(e);var n=i("9168"),a=i("539d");for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("047c");var o,r=i("f0c5"),u=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"19c3598c",null,!1,n["a"],o);e["default"]=u.exports},c767:function(t,e,i){"use strict";var n=i("1ae3"),a=i.n(n);a.a},e80b:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"\n.uni-numbox[data-v-19c3598c]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;height:25px;line-height:25px;width:90px}.uni-numbox__value[data-v-19c3598c]{background-color:#fff;width:40px;height:25px;text-align:center;font-size:%?32?%;border-width:%?1?%;border-style:solid;border-color:#e5e5e5;border-left-width:0\n\t\t/* border-right-width: 0; */}.uni-numbox__minus[data-v-19c3598c]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:25px;height:25px;\n\t\t/* line-height: $box-line-height;\n */\n\t\t/* text-align: center;\n */font-size:20px;color:#333;background-color:#fff;border-width:%?1?%;border-style:solid;border-color:#e5e5e5;-webkit-border-top-left-radius:%?6?%;border-top-left-radius:%?6?%;-webkit-border-bottom-left-radius:%?6?%;border-bottom-left-radius:%?6?%\n\t\t/* border-right-width: 0; */}.uni-numbox__plus[data-v-19c3598c]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:25px;height:25px;border-width:%?1?%;border-style:solid;border-color:#e5e5e5;-webkit-border-top-right-radius:%?6?%;border-top-right-radius:%?6?%;-webkit-border-bottom-right-radius:%?6?%;border-bottom-right-radius:%?6?%;background-color:#fff;border-left-width:0}.uni-numbox--text[data-v-19c3598c]{font-size:%?40?%;color:#333}.uni-numbox--disabled[data-v-19c3598c]{color:silver}",""]),t.exports=e}}]);