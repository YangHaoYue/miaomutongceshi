(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-release-faQiuGou"],{"06c5":function(e,t,i){"use strict";i("a630"),i("fb6a"),i("d3b7"),i("25f0"),i("3ca3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var a=n(i("6b75"));function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(e){if("string"===typeof e)return(0,a.default)(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?(0,a.default)(e,t):void 0}}},2851:function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,"uni-page-body[data-v-ba6f6a06]{background-color:#fff;height:100vh}.logobtn[data-v-ba6f6a06]{width:100%;height:%?88?%;position:fixed;bottom:%?0?%;-webkit-border-radius:0;border-radius:0;z-index:999}body.?%PAGE?%[data-v-ba6f6a06]{background-color:#fff}",""]),e.exports=t},"54dd":function(e,t,i){"use strict";i.r(t);var a=i("cb37"),n=i("b994");for(var s in n)"default"!==s&&function(e){i.d(t,e,(function(){return n[e]}))}(s);i("fa3e");var r,l=i("f0c5"),c=Object(l["a"])(n["default"],a["b"],a["c"],!1,null,"ba6f6a06",null,!1,a["a"],r);t["default"]=c.exports},"6b75":function(e,t,i){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=new Array(t);i<t;i++)a[i]=e[i];return a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},b85c:function(e,t,i){"use strict";i("a4d3"),i("e01a"),i("d28b"),i("d3b7"),i("3ca3"),i("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var a=n(i("06c5"));function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var i;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=(0,a.default)(e))||t&&e&&"number"===typeof e.length){i&&(e=i);var n=0,s=function(){};return{s:s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,c=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return l=e.done,e},e:function(e){c=!0,r=e},f:function(){try{l||null==i["return"]||i["return"]()}finally{if(c)throw r}}}}},b994:function(e,t,i){"use strict";i.r(t);var a=i("f8dd"),n=i.n(a);for(var s in a)"default"!==s&&function(e){i.d(t,e,(function(){return a[e]}))}(s);t["default"]=n.a},cb37:function(e,t,i){"use strict";var a;i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return a}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("cu-custom",{attrs:{bgColor:"bg-green",isBack:!0,showBackImg:!0}},[i("template",{attrs:{slot:"backText"},slot:"backText"},[e._v("发求购")])],2),i("v-uni-form",[i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"title bg-gray text-center flex-sub padding margin-right-sm"},[e._v("货品名称")]),i("v-uni-input",{staticClass:"flex-treble",staticStyle:{"font-size":"32rpx"},attrs:{disabled:"true",name:"input"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"title bg-gray text-center flex-sub padding margin-right-sm"},[e._v("货品规格")]),0==e.screenList.length?i("v-uni-input",{staticClass:"flex-treble",staticStyle:{"font-size":"32rpx"},attrs:{disabled:"true",placeholder:"请选择货品规格",name:"input"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toGuiGe.apply(void 0,arguments)}}}):i("v-uni-view",{staticClass:"flex-treble flex align-center",staticStyle:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},[e._l(e.screenList,(function(t,a){return"input"==t.type&&a<3?i("v-uni-text",{key:a,staticStyle:{"font-size":"32rpx"}},[e._v(e._s(t.title)+":"+e._s(t.value1)+"-"+e._s(t.value2))]):e._e()})),e._l(e.screenList,(function(t,a){return"picker"==t.type&&a<3?i("v-uni-text",{key:a,staticStyle:{"font-size":"32rpx"}},[e._v(e._s(t.title)+":"+e._s(t.value[t.index].text))]):e._e()}))],2)],1),i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"title bg-gray text-center flex-sub padding margin-right-sm"},[e._v("选择类型")]),i("v-uni-radio-group",{staticClass:"flex-treble block flex justify-start",on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.RadioChange.apply(void 0,arguments)}}},[i("v-uni-label",{staticClass:"flex justify-center align-center margin-right-xl"},[i("v-uni-radio",{class:"A"==e.radio?"checked":"",staticStyle:{transform:"scale(0.6)"},attrs:{checked:"A"==e.radio,value:"A"}}),i("v-uni-view",{staticClass:"title"},[e._v("家庭供应")])],1),i("v-uni-label",{staticClass:"flex justify-center align-center"},[i("v-uni-radio",{class:"B"==e.radio?"checked":"",staticStyle:{transform:"scale(0.6)"},attrs:{checked:"B"==e.radio,value:"B"}}),i("v-uni-view",{staticClass:"title"},[e._v("工程供应")])],1)],1)],1),i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"title bg-gray text-center flex-sub padding margin-right-sm"},[e._v("供品数量")]),i("v-uni-view",{staticClass:"flex-treble flex justify-between"},[i("v-uni-input",{staticClass:"flex-treble",staticStyle:{"font-size":"32rpx"},attrs:{type:"number",placeholder:"求购数量",name:"input"},model:{value:e.count,callback:function(t){e.count=t},expression:"count"}}),i("v-uni-picker",{staticClass:"flex-sub",attrs:{value:e.index,range:e.picker,"range-key":"text"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.PickerChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"flex align-center justify-end",staticStyle:{"font-size":"32rpx"}},[e._v(e._s(e.picker[e.index].text)),i("v-uni-text",{staticClass:"cuIcon-triangledownfill",staticStyle:{"font-size":"48rpx"}})],1)],1)],1)],1),i("v-uni-view",{staticClass:"flex align-center bg-gray"},[i("v-uni-view",{staticClass:"title bg-gray text-center flex-sub padding"},[e._v("求购地区")]),i("v-uni-view",{staticClass:"flex-treble bg-white padding-left-sm"},e._l(e.areaList,(function(t,a){return i("v-uni-view",{key:a,staticClass:"flex align-center"},[i("v-uni-picker",{staticClass:"flex-treble padding-tb",attrs:{mode:"region",value:e.area},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.areaChange(t,a)}}},[i("v-uni-view",{staticClass:"picker"},[e._v(e._s(t[0])+"-"+e._s(t[1])+"-"+e._s(t[2]))])],1),0==a?i("v-uni-view",{staticClass:"bg-green text-center flex-sub padding",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.add(a)}}},[e._v("添加")]):i("v-uni-view",{staticClass:"bg-red text-center flex-sub padding",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.delet(a)}}},[e._v("删除")])],1)})),1)],1),i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"title bg-gray text-center flex-sub padding margin-right-sm"},[e._v("心理价位")]),i("v-uni-view",{staticClass:"flex-treble"},[i("v-uni-view",{staticClass:"flex justify-between align-center"},[i("v-uni-view",{staticClass:"flex-treble flex solid padding-xs"},[i("v-uni-input",{attrs:{name:"input",type:"number"},model:{value:e.min_price,callback:function(t){e.min_price=t},expression:"min_price"}})],1),i("v-uni-text",[e._v("-")]),i("v-uni-view",{staticClass:"flex-treble flex solid padding-xs"},[i("v-uni-input",{attrs:{name:"input",type:"number"},model:{value:e.max_price,callback:function(t){e.max_price=t},expression:"max_price"}})],1),i("v-uni-text",{staticClass:" text-lg text-gray",staticStyle:{"white-space":"nowrap"}},[e._v("元/株")])],1),i("v-uni-view",{staticClass:"text-gray text-sm"},[e._v("心理价位卖家看不到，仅帮您筛选供应商")])],1)],1),i("v-uni-view",{staticClass:"cu-bar bg-white"},[i("v-uni-view",{staticClass:"action"},[e._v("图片上传")]),i("v-uni-view",{staticClass:"action"},[e._v("添加图片或视频(最多9张)")])],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"grid col-4 grid-square flex-sub"},[e._l(e.imgList,(function(t,a){return i("v-uni-view",{key:a,staticClass:"bg-img",attrs:{"data-url":e.imgList[a].tempFilePath},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.ViewImage(t.tempFilePath)}}},["image"==t.fileType?i("v-uni-image",{attrs:{src:t.tempFilePath,mode:"aspectFill"}}):e._e(),"video"==t.fileType?i("v-uni-image",{attrs:{src:t.thumbTempFilePath,mode:"aspectFill"}}):e._e(),i("v-uni-view",{staticClass:"cu-tag bg-red",attrs:{"data-index":a},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.DelImg.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"cuIcon-close"})],1)],1)})),e.imgList.length<9?i("v-uni-view",{staticClass:"solids",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.chooseMedia.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"cuIcon-cameraadd"})],1):e._e()],2)],1),i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"title bg-gray text-center flex-sub padding margin-right-sm"},[e._v("截止日期")]),i("v-uni-picker",{staticClass:"flex-treble",attrs:{mode:"date",value:e.date,start:"2015-09-01",end:"2100-09-01"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.DateChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"picker"},[e._v(e._s(e.date))])],1)],1),i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"title bg-gray text-center flex-sub padding margin-right-sm"},[e._v("收货地区")]),i("v-uni-picker",{staticClass:"flex-treble",attrs:{mode:"region",value:e.region},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.RegionChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"picker"},[e._v(e._s(e.region[0])+"-"+e._s(e.region[1])+"-"+e._s(e.region[2]))])],1)],1),i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"title bg-gray text-center flex-sub padding margin-right-sm"},[e._v("货品说明")]),i("v-uni-input",{staticClass:"flex-treble",staticStyle:{"font-size":"32rpx"},attrs:{placeholder:"请填写货品特色，种植情况等",name:"input"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1)],1),i("v-uni-view",{staticClass:"cu-tabbar-height"}),i("v-uni-button",{staticClass:"cu-btn bg-green logobtn ",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.apply.apply(void 0,arguments)}}},[e._v("确认发布")])],1)},s=[]},eaab:function(e,t,i){var a=i("2851");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("4383f480",a,!0,{sourceMap:!1,shadowMode:!1})},f8dd:function(e,t,i){"use strict";var a=i("4ea4");i("a4d3"),i("e01a"),i("99af"),i("a434"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i("b85c")),s={onLoad:function(e){this.name=e.name,this.breed_id=e.id,this.getUnit()},onShow:function(){var e=this;uni.$on("QGScreenChange",(function(t){e.screenList=t.screenList,e.sizeChange()})),this.$forceUpdate()},data:function(){return{breed_id:"",name:"",screenList:[],size:{},radio:"A",usage_type:0,count:"",index:0,picker:[],area:["北京市","北京市","东城区"],areas:[100010],areaList:[["北京市","北京市","东城区"]],area_id:100010,region:["北京市","北京市","东城区"],min_price:"",max_price:"",description:"",imgList:[],resource:[],date:"2018-12-25"}},methods:{getUnit:function(){var e=this;this.http.post("breed/getUnit").then((function(t){1e3==t.code&&(e.picker=t.data)}))},PickerChange:function(e){this.index=e.detail.value},toGuiGe:function(){uni.navigateTo({url:"QGscreen"})},RadioChange:function(e){this.radio=e.detail.value,"B"==this.radio?this.usage_type=1:(this.usage_type=0,this.single_price=0)},areaChange:function(e,t){this.areaList[t]=e.detail.value,this.areas[t]=e.detail.code[2],this.$forceUpdate(),console.log(this.areaList),console.log(this.areas)},add:function(e){this.areaList.length<3?(this.areaList.push(this.area),this.areas.push(this.area_id)):this.http.toast("求购地区最多只有三个！")},delet:function(e){this.areaList.splice(e,1),this.areas.splice(e,1)},RegionChange:function(e){console.log(e),this.region=e.detail.value,this.area_id=e.detail.code[2]},chooseMedia:function(){var e=this;uni.chooseMedia({count:9,mediaType:["image","video"],sourceType:["album","camera"],maxDuration:30,camera:"back",success:function(t){if(0!=e.imgList.length){e.imgList=e.imgList.concat(t.tempFiles);var i,a=(0,n.default)(t.tempFiles);try{for(a.s();!(i=a.n()).done;){var s=i.value;e.http.uploadFile("files/fileUploader",s.tempFilePath,s.fileType).then((function(t){e.resource.push(t.path)}))}}catch(o){a.e(o)}finally{a.f()}}else{e.imgList=t.tempFiles;var r,l=(0,n.default)(t.tempFiles);try{for(l.s();!(r=l.n()).done;){var c=r.value;e.http.uploadFile("files/fileUploader",c.tempFilePath,c.fileType).then((function(t){e.resource.push(t.path)}))}}catch(o){l.e(o)}finally{l.f()}}console.log(t),console.log(e.imgList),console.log(e.resource)}})},ViewImage:function(e){uni.previewImage({urls:[e]})},DelImg:function(e){this.imgList.splice(e.currentTarget.dataset.index,1),this.resource.splice(e.currentTarget.dataset.index,1)},DateChange:function(e){this.date=e.detail.value},sizeChange:function(){var e=this;this.size["rodDiameter"]=e._format(e.screenList[1]),this.size["height"]=e._format(e.screenList[2]),this.size["crownWidth"]=e._format(e.screenList[3]),this.size["plantingStatus"]=e._format(e.screenList[4]),this.size["treeCrown"]=e._format(e.screenList[5]),this.size["quality"]=e._format(e.screenList[6]),this.size["soilQuality"]=e._format(e.screenList[7]),this.size["treeShape"]=e._format(e.screenList[8]),this.size["density"]=e._format(e.screenList[9]),this.size["branch"]=e._format(e.screenList[10]),this.size["nurseryForm"]=e._format(e.screenList[11]),this.size["solidDiameter"]=e._format(e.screenList[12]),this.size["solidThickness"]=e._format(e.screenList[13]),this.size["quotationRequired"]=e._format(e.screenList[14]),this.size["quotationMethod"]=e._format(e.screenList[15]),console.log(this.size)},_format:function(e){var t={};return t["id"]=e.id||0,t["value1"]=e.value1||0,t["value2"]=e.value2||0,t},apply:function(){var e=this;uni.request({url:this.http.interfaceUrl()+"want/publishWant",method:"POST",header:{Authorization:"Bearer "+this.http.getToken()},data:{breed_id:this.breed_id,size:this.size,unit_id:this.picker[this.index].id,usage_type:this.usage_type,count:this.count,areas:this.areas,min_price:this.min_price,max_price:this.max_price,area_id:this.area_id,deadline:this.date,img:this.resource,description:this.description},success:function(t){e.http.toast(t.data.msg),1e3==t.data.code&&setTimeout((function(){uni.redirectTo({url:"../mine/QiuGou/QiuGou"})}),1e3)},fail:function(){},complete:function(){}})}}};t.default=s},fa3e:function(e,t,i){"use strict";var a=i("eaab"),n=i.n(a);n.a}}]);