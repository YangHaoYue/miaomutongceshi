(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-home-gongying-purchase-order"],{2397:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'uni-page-body[data-v-fceab6b8]{background-color:#fff;height:100vh}.showMadol[data-v-fceab6b8]{height:%?497?%;width:100%;position:fixed;bottom:calc(%?120?% + env(safe-area-inset-bottom) / 2);z-index:999}.showMadol[data-v-fceab6b8]::after{content:"";position:absolute;width:0;height:0;border-top:solid 6px #fff;border-right:solid 6px transparent;border-left:solid 6px transparent;left:50%;bottom:-6px;margin-left:-6px}.btBtn[data-v-fceab6b8]{position:fixed;bottom:%?20?%;left:%?30?%;right:%?30?%;z-index:9999}.cashBtn[data-v-fceab6b8]{width:%?650?%;height:%?90?%;margin:0 %?50?%;position:fixed;bottom:%?20?%}body.?%PAGE?%[data-v-fceab6b8]{background-color:#fff}',""]),t.exports=e},"2f97":function(t,e,i){"use strict";var a=i("9583"),s=i.n(a);s.a},"6c8d":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("cu-custom",{attrs:{bgColor:"bg-green",isBack:!0,showBackImg:!0}},[i("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("订单信息")])],2),i("v-uni-view",{staticClass:"padding text-white",staticStyle:{height:"180rpx",background:"-webkit-linear-gradient(top,#00913A,#32A761)"}},[i("v-uni-view",{staticClass:"text-lg text-bold flex align-center"},[i("v-uni-text",{staticClass:"cuIcon-time margin-right-xs",staticStyle:{"font-size":"42rpx"}}),t._v(t._s(t.title))],1)],1),i("v-uni-view",{staticClass:"bg-white radius margin-lr-lg padding-sm text-sm text-bold",staticStyle:{color:"#717171",transform:"translateY(-90rpx)","box-shadow":"8upx 8upx 8upx rgba(0, 0, 0, 0.1)"}},[i("v-uni-view",{staticClass:"margin-tb-xs"},[t._v("需要卖家确认单价，杂费，运费...")]),i("v-uni-view",{staticClass:"margin-tb-xs"},[t._v("您可以通过印象花木城卖家确认订单")]),i("v-uni-view",{staticClass:"margin-tb-xs"},[t._v("打电话/聊一聊的记录，可作为交易的纠纷凭证")]),i("v-uni-view",{staticClass:"margin-tb-xs"},[t._v("通过在线交易，可以安全的保障您的资金安全")])],1),7!=t.detail.status?i("v-uni-view",{staticClass:"bg-white margin",staticStyle:{transform:"translateY(-90rpx)"}},[i("v-uni-view",{staticClass:"cu-steps"},t._l(t.basicsList,(function(e,a){return i("v-uni-view",{key:a,staticClass:"cu-item",class:a>t.basics?"":"text-green"},[i("v-uni-text",{staticClass:"cuIcon-radioboxfill"}),i("v-uni-text",{class:a>t.basics?"text-gray":"text-black"},[t._v(t._s(e.name))])],1)})),1)],1):t._e(),i("v-uni-view",{staticClass:"bg-white margin",staticStyle:{transform:"translateY(-90rpx)"}},[i("v-uni-view",{staticClass:"flex margin-tb-xs"},[i("v-uni-view",{staticClass:"text-lg text-bold"},[t._v(t._s(t.detail.title))]),1==t.detail.enterprise_auth?i("v-uni-text",{staticClass:"bg-blue margin-lr-xs text-lg"},[t._v("企")]):t._e(),1==t.detail.person_auth?i("v-uni-text",{staticClass:"bg-green margin-right-xs text-lg"},[t._v("保")]):t._e()],1),i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-image",{staticStyle:{width:"188rpx",height:"166rpx"},attrs:{src:t.http.resourceUrl()+t.detail.img,mode:"aspectFill"}}),i("v-uni-view",{staticClass:"margin-left"},[i("v-uni-view",{staticClass:"margin-bottom-xs text-lg text-bold"},[t._v(t._s(t.detail.breed_name))]),i("v-uni-view",{staticClass:"margin-bottom-xs"},[t._v(t._s(t.detail.desc))])],1)],1),i("v-uni-view",{staticClass:"flex justify-between padding-tb"},[i("v-uni-view",{staticClass:"text-gray"},[t._v("待议单价")]),i("v-uni-view",{staticClass:"text-lg text-bold"},[t._v(t._s(t.detail.single_price))])],1),i("v-uni-view",{staticClass:"flex justify-between padding-tb solid-bottom"},[i("v-uni-view",{staticClass:"text-gray"},[t._v("采购数量")]),i("v-uni-view",{staticClass:"text-lg text-bold"},[t._v(t._s(t.detail.count))])],1),i("v-uni-view",{staticClass:"flex justify-end align-end",staticStyle:{height:"150rpx"}},[1==t.detail.type&&0==t.detail.status?i("v-uni-view",{staticClass:"text-lg text-bold flex align-center"},[t._v("订单金额："),i("v-uni-input",{staticClass:"text-green solid",attrs:{"placeholder-class":"text-sm",type:"number",placeholder:"输入与买家确认价格"},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}}),t._v("元")],1):i("v-uni-view",{staticClass:"text-lg text-bold"},[t._v("订单金额："),i("v-uni-text",{staticClass:"text-green"},[t._v(t._s(t.detail.total_price))])],1)],1)],1),i("v-uni-view",{staticClass:"bg-gray",staticStyle:{height:"20rpx",transform:"translateY(-90rpx)"}}),i("v-uni-view",{staticClass:"padding-lr bg-white",staticStyle:{transform:"translateY(-90rpx)"}},[i("v-uni-view",{staticClass:"flex justify-between align-center"},[i("v-uni-view",{staticClass:"margin-tb flex align-center text-black text-bold"},[t._v("订单详情")]),0==t.detail.type?i("v-uni-view",{staticClass:"margin-tb flex align-center text-black text-bold",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.makePhoneCall.apply(void 0,arguments)}}},[t._v("联系卖家")]):t._e(),1==t.detail.type?i("v-uni-view",{staticClass:"margin-tb flex align-center text-black text-bold",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.makePhoneCall.apply(void 0,arguments)}}},[t._v("联系买家")]):t._e()],1),i("v-uni-view",{staticClass:"margin-tb flex align-center"},[i("v-uni-text",{staticClass:"text-gray flex-sub"},[t._v("到货日期：")]),i("v-uni-text",{staticClass:"flex-treble"},[t._v(t._s(t.address.arrive_at))])],1),i("v-uni-view",{staticClass:"margin-tb flex align-center"},[i("v-uni-text",{staticClass:"text-gray flex-sub"},[t._v("收货地址：")]),i("v-uni-text",{staticClass:"flex-treble"},[t._v(t._s(t.address.receive_name)+"  "+t._s(t.address.receive_phone))])],1),i("v-uni-view",{staticClass:"margin-tb flex align-center"},[i("v-uni-text",{staticClass:"text-gray flex-sub"}),i("v-uni-text",{staticClass:"flex-treble"},[t._v(t._s(t.address.address))])],1)],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.showMOdal,expression:"showMOdal"}],staticClass:"bg-white showMadol",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideModal.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"text-center text-lg text-bold margin-top"},[t._v("扫描二维码加商户微信")]),i("v-uni-view",{staticClass:"flex justify-center margin-top"},[i("v-uni-image",{staticStyle:{height:"300rpx",width:"300rpx"},attrs:{src:t.http.resourceUrl()+t.detail.store.qrcode,mode:"aspectFit"}})],1)],1),0==t.detail.type&&0==t.detail.status?i("v-uni-view",[i("v-uni-view",{staticClass:"cu-tabbar-height"}),i("v-uni-view",{staticClass:"flex justify-around btBtn text-center text-lg"},[i("v-uni-view",{staticClass:"bg-white flex-sub radius padding margin-right-xs solids",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showModal.apply(void 0,arguments)}}},[t._v("聊一聊")]),i("v-uni-view",{staticClass:"bg-white flex-sub radius padding solids",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.makePhoneCall.apply(void 0,arguments)}}},[t._v("打电话")])],1)],1):t._e(),1==t.detail.type&&0==t.detail.status?i("v-uni-view",[i("v-uni-view",{staticClass:"cu-tabbar-height"}),i("v-uni-view",{staticClass:"flex justify-around btBtn text-center text-lg"},[i("v-uni-view",{staticClass:"bg-white flex-sub radius padding margin-right-xs solids",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel.apply(void 0,arguments)}}},[t._v("取消订单")]),i("v-uni-view",{staticClass:"bg-green flex-treble radius padding solids",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.makeSure.apply(void 0,arguments)}}},[t._v("确认订单")])],1)],1):t._e(),1==t.detail.type&&3==t.detail.status?i("v-uni-view",[i("v-uni-view",{staticClass:"cu-tabbar-height"}),i("v-uni-button",{staticClass:"cu-btn cashBtn bg-green",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.send.apply(void 0,arguments)}}},[t._v("确认发货")])],1):t._e(),0==t.detail.type&&4==t.detail.status?i("v-uni-view",[i("v-uni-view",{staticClass:"cu-tabbar-height"}),i("v-uni-button",{staticClass:"cu-btn cashBtn bg-green",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.recive.apply(void 0,arguments)}}},[t._v("确认收货")])],1):t._e(),0==t.detail.type&&1==t.detail.status?i("v-uni-view",[i("v-uni-view",{staticClass:"cu-tabbar-height"}),i("v-uni-button",{staticClass:"cu-btn cashBtn bg-green",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toCash.apply(void 0,arguments)}}},[t._v("确认付款")])],1):t._e()],1)},n=[]},"7aef":function(t,e,i){"use strict";i.r(e);var a=i("6c8d"),s=i("8228");for(var n in s)"default"!==n&&function(t){i.d(e,t,(function(){return s[t]}))}(n);i("2f97");var l,c=i("f0c5"),o=Object(c["a"])(s["default"],a["b"],a["c"],!1,null,"fceab6b8",null,!1,a["a"],l);e["default"]=o.exports},8228:function(t,e,i){"use strict";i.r(e);var a=i("e6b2"),s=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=s.a},9583:function(t,e,i){var a=i("2397");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("4f06").default;s("29dfccd0",a,!0,{sourceMap:!1,shadowMode:!1})},e6b2:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={onLoad:function(t){this.order_id=t.order_id,this.getInfo()},data:function(){return{order_id:"",title:"等待买家确认付款",basics:1,basicsList:[{cuIcon:"radioboxfill",name:"已下单"},{cuIcon:"radioboxfill",name:"确认"},{cuIcon:"radioboxfill",name:"付款"},{cuIcon:"radioboxfill",name:"发货"},{cuIcon:"radioboxfill",name:"收货"},{cuIcon:"radioboxfill",name:"收款"}],price:"",detail:"",address:"",showMOdal:!1}},methods:{getInfo:function(){var t=this;this.http.post("order/getOrderDetail",{order_id:this.order_id}).then((function(e){if(1e3==e.code)if(t.address=e.data.address,t.detail=e.data,1==t.detail.type)switch(t.detail.status){case 0:t.title="等待卖家确认订单",t.basics=1;break;case 1:t.title="等待买家支付",t.basics=2;break;case 3:t.title="已支付 等待发货",t.basics=3;break;case 4:t.title="等待买家确认收货",t.basics=4;break;case 5:t.title="交易成功",t.basics=5;break;case 7:t.title="订单关闭";break;default:return}else switch(t.detail.status){case 0:t.title="等待卖家确认订单",t.basics=1;break;case 1:t.title="等待买家支付",t.basics=2;break;case 3:t.title="等待卖家发货",t.basics=3;break;case 4:t.title="等待买家确认收货",t.basics=4;break;case 5:t.title="交易成功",t.basics=5;break;case 7:t.title="订单关闭";break;default:return}}))},BasicsSteps:function(){this.basics=this.basics==this.basicsList.length-1?0:this.basics+1},showModal:function(){this.showMOdal=!0},hideModal:function(){this.showMOdal=!1},makePhoneCall:function(){uni.makePhoneCall({phoneNumber:this.detail.store.mobile})},cancel:function(){var t=this;this.http.post("order/cancelOrder",{order_id:this.order_id}).then((function(e){1e3==e.code&&(uni.showToast({title:e.msg,mask:!0,icon:"none"}),setTimeout((function(){t.getInfo()}),1e3))}))},makeSure:function(){var t=this;this.http.post("order/sellerConfirmOrder",{order_id:this.order_id,price:this.price}).then((function(e){1e3==e.code&&(uni.showToast({title:e.msg,mask:!0,icon:"none"}),setTimeout((function(){t.getInfo()}),1e3))}))},send:function(){var t=this;this.http.post("order/confirmSend",{order_id:this.order_id}).then((function(e){1e3==e.code&&(uni.showToast({title:e.msg,mask:!0,icon:"none"}),setTimeout((function(){t.getInfo()}),1e3))}))},recive:function(){var t=this;this.http.post("order/confirmGet",{order_id:this.order_id}).then((function(e){1e3==e.code&&(uni.showToast({title:e.msg,mask:!0,icon:"none"}),setTimeout((function(){t.getInfo()}),1e3))}))},toCash:function(){var t=this;this.http.post("order/startPay",{order_id:this.order_id}).then((function(e){1e3==e.code&&wx.requestPayment({appId:e.data.appId,timeStamp:e.data.timestamp,nonceStr:e.data.nonceStr,package:e.data.package,paySign:e.data.paySign,signType:e.data.signType,success:function(e){uni.hideLoading(),t.http.toast(e.msg),t.getInfo()},fail:function(t){uni.hideLoading(),console.log(t),uni.showToast({icon:"none",title:"支付失败!"})}})}))}}};e.default=a}}]);