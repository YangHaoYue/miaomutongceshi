{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/DELL/Documents/HBuilderProjects/苗木通小程序/pages/home/map/map.vue?fcf5","webpack:///C:/Users/DELL/Documents/HBuilderProjects/苗木通小程序/pages/home/map/map.vue?0793","webpack:///C:/Users/DELL/Documents/HBuilderProjects/苗木通小程序/pages/home/map/map.vue?689a","webpack:///C:/Users/DELL/Documents/HBuilderProjects/苗木通小程序/pages/home/map/map.vue?3d91","uni-app:///pages/home/map/map.vue","webpack:///C:/Users/DELL/Documents/HBuilderProjects/苗木通小程序/pages/home/map/map.vue?92d4","webpack:///C:/Users/DELL/Documents/HBuilderProjects/苗木通小程序/pages/home/map/map.vue?a512"],"names":["createPage","Page"],"mappings":"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","file":"pages/home/map/map.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/home/map/map.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./map.vue?vue&type=template&id=f011251c&\"\nvar renderjs\nimport script from \"./map.vue?vue&type=script&lang=js&\"\nexport * from \"./map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./map.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/home/map/map.vue\"\nexport default component.exports","export * from \"-!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./map.vue?vue&type=template&id=f011251c&\"","var components\ntry {\n  components = {\n    tuiLoadmore: function() {\n      return import(\n        /* webpackChunkName: \"components/tui-loadmore/tui-loadmore\" */ \"@/components/tui-loadmore/tui-loadmore.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./map.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"maps-container\">\r\n\t\t<cu-custom bgColor=\"bg-green\" :isBack=\"true\" :showBackImg=\"true\">\r\n\t\t\t<block slot=\"backText\">地图找苗</block>\r\n\t\t</cu-custom>\r\n\t\t<view class=\"bg-white cu-btn\" style=\"height: 97rpx;width: 100%;\" @click=\"chooseLocation\">{{position}}<text class=\"cuIcon-triangledownfill\" style=\"font-size: 32rpx;\"></text></view>\r\n\t\t\n\t\t<map class=\"tui-map\" :latitude=\"lat\" :style=\"'height:'+mapHeight+'px;'\" :longitude=\"lng\" :markers=\"covers\" @callouttap=\"callouttap\" :scale=\"12\"><!-- @markertap=\"marker\" -->\r\n\t\t\t<cover-view slot=\"callout\">\r\n\t\t\t    <cover-view :marker-id=\"item.id\" v-for=\"(item,i) in covers\" :key=\"i\">\r\n\t\t\t\t\t<cover-view class=\"bg-white map radius padding-lr padding-tb-sm\" style=\"height: 160rpx;width: 469rpx;border-radius: 25rpx;\">\r\n\t\t\t\t\t\t<cover-view class=\"flex justify-between align-center solid-bottom padding-tb-xs\">\r\n\t\t\t\t\t\t\t<cover-view class=\"flex align-center padding-tb-xs\">\r\n\t\t\t\t\t\t\t\t<cover-image src=\"/static/images/my/shop.png\" class=\"smart-img margin-right-sm\"></cover-image>\r\n\t\t\t\t\t\t\t\t<cover-view>{{item.title}}</cover-view>\r\n\t\t\t\t\t\t\t</cover-view>\r\n\t\t\t\t\t\t\t<cover-image src=\"/static/images/my/right.png\" style=\"width: 18rpx;height: 34rpx;\"></cover-image>\r\n\t\t\t\t\t\t</cover-view>\r\n\t\t\t\t\t\t<cover-view class=\"flex justify-between align-center padding-tb\">\r\n\t\t\t\t\t\t\t<cover-view style=\"width: 300rpx;overflow: hidden;text-overflow: ellipsis;\">主营:{{item.business}}</cover-view>\r\n\t\t\t\t\t\t\t<cover-view class=\"addr-opera\">\r\n\t\t\t\t\t\t\t\t<cover-view class=\"opera-box\" hover-class=\"tui-opcity\" :hover-stay-time=\"150 \" @click=\"call(item.tel)\" :data-id=\"item.id\" v-if=\"item.tel\">\r\n\t\t\t\t\t\t\t\t\t<cover-image src=\"/static/images/my/call.png\" class=\"mini-img\"></cover-image>\r\n\t\t\t\t\t\t\t\t</cover-view>\r\n\t\t\t\t\t\t\t\t<cover-view class=\"opera-box\" hover-class=\"tui-opcity\" :hover-stay-time=\"150\" @click=\"go(item)\" :data-id=\"item.id\">\r\n\t\t\t\t\t\t\t\t\t<cover-image src=\"/static/images/my/go.png\" class=\"mini-img\"></cover-image>\r\n\t\t\t\t\t\t\t\t</cover-view>\r\n\t\t\t\t\t\t\t</cover-view>\r\n\t\t\t\t\t\t</cover-view>\r\n\t\t\t\t\t</cover-view>\r\n\t\t\t\t</cover-view>\r\n\t\t\t</cover-view>\r\n\t\t</map>\r\n\t\t<view class=\"bg-green cu-btn\" style=\"height: 97rpx;width: 100%;\" v-if=\"!showList\" @click=\"show\">您附近有{{nearby_count}}位供货商</view>\r\n\t\t\n\t\t<scroll-view scroll-y class=\"scrollView\" :style=\"{height:scrollH +'px'}\" @scrolltolower=\"pullUp\" v-if=\"showList\">\n\t\t\t<view class=\"tui-list\">\n\t\t\t\t<view class=\"tui-list-cell\" :class=\"[index==address.length-1?'tui-cell-last':'']\" v-for=\"(item,index) in address\"\n\t\t\t\t :key=\"index\">\n\t\t\t\t\t<view class=\"addr-title\">\n\t\t\t\t\t\t<text>{{item.title}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"addr-box \">\n\t\t\t\t\t\t<view class=\"addr-detail \">\n\t\t\t\t\t\t\t<!-- <text class=\"distance\">{{item.distance}}m</text> -->\n\t\t\t\t\t\t\t主营:{{item.business}}\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"addr-opera\">\n\t\t\t\t\t\t\t<view class=\"opera-box \" hover-class=\"tui-opcity\" :hover-stay-time=\"150 \" @tap=\"call(item.tel)\" :data-id=\"item.id\" v-if=\"item.tel\">\n\t\t\t\t\t\t\t\t<image src=\"/static/images/my/call.png\" class=\"mini-img\"></image>\n\t\t\t\t\t\t\t\t<view class=\"text\">打电话</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"opera-box \" hover-class=\"tui-opcity\" :hover-stay-time=\"150\" @tap=\"go(item)\" :data-id=\"item.id\">\n\t\t\t\t\t\t\t\t<image src=\"/static/images/my/go.png\" class=\"mini-img\"></image>\n\t\t\t\t\t\t\t\t<view class=\"text\">到这里</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\r\n\t\t\t\t<tui-loadmore :index=\"3\" v-if=\"loading\"></tui-loadmore>\n\t\t\t</view>\n\t\t</scroll-view>\n\t</view>\n</template>\n\n<script>\r\n\timport tuiLoadmore from \"@/components/tui-loadmore/tui-loadmore\";\n\tconst QQMapWX = require('@/libs/qqmap-wx-jssdk.min.js');\n\texport default {\r\n\t\tcomponents:{\r\n\t\t\ttuiLoadmore\r\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tqqmapsdk: null,\n\t\t\t\tkey: 'JTHBZ-TMF32-BERUV-CBXUN-NWI2K-QTFMX',\n\t\t\t\tlat: 22.63137,\n\t\t\t\tlng: 114.010857,\r\n\t\t\t\tarea_id:'',\r\n\t\t\t\tposition:'正在获取当前地址...',\r\n\t\t\t\t\r\n\t\t\t\tmapHeight:1050,\n\t\t\t\tcovers: [],\r\n\t\t\t\tnearby_count:0,//附近供货商\r\n\t\t\t\tshowList:false,\n\t\t\t\taddress: [],\n\t\t\t\tscrollH: 246,\r\n\t\t\t\tpageIndex: 1,\r\n\t\t\t\tlast_page:2,\r\n\t\t\t\tloading: true,\r\n\t\t\t\tpullUpOn: true\r\n\t\t\t}\n\t\t},\n\t\tonLoad(options) {\n\t\t\tthis.qqmapsdk = new QQMapWX({\r\n\t\t\t\tkey: this.key\r\n\t\t\t});\r\n\t\t\tsetTimeout(() => {\n\t\t\t\tlet winHeight = uni.getSystemInfoSync().windowHeight;\n\t\t\t\tthis.scrollH = winHeight - 74 - uni.upx2px(600);\r\n\t\t\t\tthis.mapHeight=winHeight-184;\n\t\t\t\tthis.getLocation();\n\t\t\t}, 300)\n\t\t},\n\t\tmethods: {\n\t\t\tgetLocation() {\n\t\t\t\t//当前位置\r\n\t\t\t\tconst that = this;\r\n\t\t\t\t//H5：使用坐标类型为 gcj02 时，需要配置腾讯地图 sdk 信息（manifest.json -> h5）\r\n\t\t\t\tuni.getLocation({\r\n\t\t\t\t\ttype: 'gcj02',\r\n\t\t\t\t\taltitude: true,\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tthat.getAddress(res.longitude,res.latitude);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(res) {\r\n\t\t\t\t\t}\r\n\t\t\t\t});\n\t\t\t},\r\n\t\t\tgetAddress: function(lng, lat) {\r\n\t\t\t\tthis.lat = lat;\r\n\t\t\t\tthis.lng = lng;\r\n\t\t\t\t//根据经纬度获取地址信息\r\n\t\t\t\tthis.qqmapsdk.reverseGeocoder({\r\n\t\t\t\t\tlocation: {\r\n\t\t\t\t\t\tlatitude: lat,\r\n\t\t\t\t\t\tlongitude: lng\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthis.area_id=res.result.ad_info.adcode;\r\n\t\t\t\t\t\tthis.position = res.result.address;\r\n\t\t\t\t\t\tthis.address=[];\r\n\t\t\t\t\t\tthis.covers=[];\r\n\t\t\t\t\t\tthis.pageIndex=1;\r\n\t\t\t\t\t\tthis.pullUpOn=true;\r\n\t\t\t\t\t\tthis.getPoiAround()\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (res) => {\r\n\t\t\t\t\t\tthis.position = \"获取位置信息失败\"\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tchooseLocation(){\r\n\t\t\t\tuni.chooseLocation({\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthis.getAddress(res.longitude,res.latitude)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetResult(data) {\r\n\t\t\t\tlet arr = [];\r\n\t\t\t\tlet addr = [];\r\n\t\t\t\tfor (let item of data) {\r\n\t\t\t\t\tarr.push({\r\n\t\t\t\t\t\tid: item.store_id,\r\n\t\t\t\t\t\tlatitude: item.latitude,\r\n\t\t\t\t\t\tlongitude: item.longitude,\r\n\t\t\t\t\t\ttitle: item.store_name,\r\n\t\t\t\t\t\ticonPath:item.image,\r\n\t\t\t\t\t\tbusiness: item.business,\r\n\t\t\t\t\t\ttel: item.mobile,\r\n\t\t\t\t\t\twidth:32,\r\n\t\t\t\t\t\theight:32,\r\n\t\t\t\t\t\tcustomCallout: {\r\n\t\t\t\t\t\t\tanchorX: 0,\r\n\t\t\t\t\t\t\tanchorY: -10,\r\n\t\t\t\t\t\t\tdisplay: \"BYCLICK\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\taddr.push({\r\n\t\t\t\t\t\tid: item.store_id,\r\n\t\t\t\t\t\tlatitude: item.latitude,\r\n\t\t\t\t\t\tlongitude: item.longitude,\r\n\t\t\t\t\t\ttitle: item.store_name,\r\n\t\t\t\t\t\t/* address: item.address, */\r\n\t\t\t\t\t\ttel: item.mobile,\r\n\t\t\t\t\t\tbusiness: item.business\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tthis.address = this.address.concat(addr);\r\n\t\t\t\tthis.covers = this.covers.concat(arr);\r\n\t\t\t\t/* this.address=this.address.reverse().filter((item,index)=>{\r\n\t\t\t\t\tconst _index=this.address.findIndex((_item)=>{\r\n\t\t\t\t\t\treturn item.id==_item.id\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn index==_index\r\n\t\t\t\t})\r\n\t\t\t\tconsole.log(this.address)\r\n\t\t\t\tthis.covers=this.covers.reverse().filter((item,index)=>{\r\n\t\t\t\t\tconst _index=this.covers.findIndex((_item)=>{\r\n\t\t\t\t\t\treturn item.id==_item.id\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn index==_index\r\n\t\t\t\t}) */\r\n\t\t\t\tthis.loading = false;\r\n\t\t\t\tif (this.pageIndex==this.last_page) {\r\n\t\t\t\t\tthis.pullUpOn = false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.pageIndex++;\r\n\t\t\t\tconsole.log(this.pageIndex)\r\n\t\t\t\tconsole.log(this.last_page)\r\n\t\t\t},\r\n\t\t\tpullUp() {\r\n\t\t\t\tif (!this.pullUpOn || this.loading) return;\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t\tthis.getPoiAround()\r\n\t\t\t},\r\n\t\t\tgetMapStores(){\r\n\t\t\t\tthis.http.get('map/getMapStores',{\r\n\t\t\t\t\tpage:this.pageIndex,\r\n\t\t\t\t\tarea_id:this.area_id,\r\n\t\t\t\t\tlatitude:this.lat,\r\n\t\t\t\t\tlongitude:this.lng\r\n\t\t\t\t},true).then((res)=>{\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tif(res.code==1000){\r\n\t\t\t\t\t\tconst result=res.data.data;\r\n\t\t\t\t\t\tthis.nearby_count=res.data.nearby_count;\r\n\t\t\t\t\t\tthis.last_page=res.data.last_page;\r\n\t\t\t\t\t\tthis.pageIndex=res.data.current_page\r\n\t\t\t\t\t\tthis.getResult(result);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\n\t\t\tgetPoiAround() {\r\n\t\t\t\tthis.http.get('map/getMapStores',{\r\n\t\t\t\t\tpage:this.pageIndex,\r\n\t\t\t\t\tarea_id:this.area_id,\r\n\t\t\t\t\tlatitude:this.lat,\r\n\t\t\t\t\tlongitude:this.lng\r\n\t\t\t\t},true).then((res)=>{\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tif(res.code==1000){\r\n\t\t\t\t\t\tconst result=res.data.data;\r\n\t\t\t\t\t\tthis.nearby_count=res.data.nearby_count;\r\n\t\t\t\t\t\tthis.last_page=res.data.last_page;\r\n\t\t\t\t\t\tthis.getResult(result);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\n\t\t\t\t/* this.http.get('map/getMapPoints',{\r\n\t\t\t\t\tarea_id:this.area_id,\r\n\t\t\t\t\tlatitude:this.lat,\r\n\t\t\t\t\tlongitude:this.lng\r\n\t\t\t\t},true).then((res)=>{\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tif(res.code==1000){\r\n\t\t\t\t\t\tconst result=res.data.data;\r\n\t\t\t\t\t\tthis.nearby_count=res.data.nearby_count;\r\n\t\t\t\t\t\tthis.getResult(result)\r\n\t\t\t\t\t}\r\n\t\t\t\t}) */\n\t\t\t},\r\n\t\t\t/* 展示列表 */\r\n\t\t\tshow(){\r\n\t\t\t\tthis.showList=true;\r\n\t\t\t\tthis.mapHeight=uni.upx2px(600);\r\n\t\t\t},\r\n\t\t\tcallouttap(e){\r\n\t\t\t\tthis.marker(e);\r\n\t\t\t},\n\t\t\tmarker: function(e) {\r\n\t\t\t\tconst that = this\n\t\t\t\tconst item = that.address.filter(function(item){\r\n\t\t\t\t\treturn item.id==e.detail.markerId\r\n\t\t\t\t})\r\n\t\t\t\tconst menu = item[0].tel ? [\"打电话\", \"到这里\"] : [\"到这里\"];\n\n\t\t\t\tuni.showActionSheet({\n\t\t\t\t\titemList: menu,\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tif (res.tapIndex == 0 && item[0].tel) {\r\n\t\t\t\t\t\t\tuni.makePhoneCall({\n\t\t\t\t\t\t\t\tphoneNumber:item[0].tel\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst latitude = Number(item[0].latitude)\n\t\t\t\t\t\t\tconst longitude = Number(item[0].longitude)\n\t\t\t\t\t\t\tuni.openLocation({\n\t\t\t\t\t\t\t\tname: item[0].title,\n\t\t\t\t\t\t\t\t/* address: item[0].address, */\n\t\t\t\t\t\t\t\tlatitude,\n\t\t\t\t\t\t\t\tlongitude,\n\t\t\t\t\t\t\t\tscale: 18\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail(res) {\n\t\t\t\t\t\tconsole.log(res.errMsg)\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t},\n\t\t\tcall(tel) {\r\n\t\t\t\tuni.makePhoneCall({phoneNumber: tel})\n\t\t\t},\n\t\t\tgo(item) {\n\t\t\t\tconst latitude = Number(item.latitude)\n\t\t\t\tconst longitude = Number(item.longitude)\n\t\t\t\tuni.openLocation({\n\t\t\t\t\tname: item.title,\n\t\t\t\t\taddress: item.address,\n\t\t\t\t\tlatitude,\n\t\t\t\t\tlongitude,\n\t\t\t\t\tscale: 18\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\tpage {\n\t\theight: 100%;\n\t}\n\n\t.tui-list {\n\t\tbackground-color: #fff;\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tpadding-bottom: env(safe-area-inset-bottom);\n\t}\n\n\t.tui-list-cell {\n\t\tposition: relative;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t}\n\n\t.tui-list-cell::after {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\tborder-bottom: 1rpx solid #eaeef1;\n\t\t-webkit-transform: scaleY(0.5);\n\t\ttransform: scaleY(0.5);\n\t\tbottom: 0;\n\t\tright: 0;\n\t\tleft: 30rpx;\n\t}\n\n\t.tui-cell-last::after {\n\t\tborder-bottom: 0;\n\t}\n\n\t.maps-container {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\toverflow: hidden;\n\t}\n\n\t.tui-map {\n\t\twidth: 100%;\n\t\tdisplay: block;\n\t}\n\n\t.scrollView {\n\t\twidth: 100%;\n\t\tpadding-bottom: 100rpx;\n\t\tbackground-color: #fff;\n\t}\n\n\t.search-bar {\n\t\tposition: relative;\n\t\tpadding: 8px 10px;\n\t\tdisplay: -webkit-flex;\n\t\tdisplay: flex;\n\t\tbox-sizing: border-box;\n\t\talign-items: center;\n\t\tbackground-color: #fff;\n\t}\n\n\t.icon-search {\n\t\tmargin-right: 8px;\n\t}\n\n\t.icon-search-in-box {\n\t\tmargin-right: 8rpx;\n\t}\n\n\t.search-bar-form {\n\t\tposition: relative;\n\t\t-webkit-box-flex: 1;\n\t\t-webkit-flex: auto;\n\t\tflex: auto;\n\t\tborder-radius: 5px;\n\t\tbackground-color: #f0f0f0;\n\t}\n\n\t.search-bar-text {\n\t\tdisplay: inline-block;\n\t\tfont-size: 14px;\n\t\tvertical-align: middle;\n\t}\n\n\t.search-bar-box {\n\t\twidth: 100%;\n\t\theight: 30px;\n\t\tpadding-left: 10px;\n\t\tpadding-right: 30px;\n\t\tbox-sizing: border-box;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tflex-wrap: nowrap;\n\t\tposition: relative;\n\t\tz-index: 1;\n\t\t\n\t}\n\n\t.search-bar-input {\n\t\tfont-size: 14px;\n\t\tflex: 1;\n\t}\n\n\t.icon-clear {\r\n\t\theight: 100%;\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tright: 0;\n\t\tpadding: 0 8px;\n\t\tfont-size: 0;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\n\t}\n\n\t.search-bar-label {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\ttop: 0;\n\t\tz-index: 2;\n\t\tborder-radius: 3px;\n\t\ttext-align: center;\n\t\tcolor: #9b9b9b;\n\t\tbackground: #f0f0f0;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\n\t}\n\n\t.cancel-btn {\n\t\tmargin-left: 10px;\n\t\tline-height: 30px;\n\t\tcolor: #5982fd;\n\t\twhite-space: nowrap;\n\t\tfont-size: 15px;\n\t}\n\n\t.tui-list-cell {\n\t\tdisplay: initial;\n\t\tpadding: 30rpx;\n\t}\n\n\t.addr-title {\n\t\tfont-size: 30rpx;\n\t\tline-height: 40rpx;\n\t\tcolor: #000;\n\t\tfont-weight: bold;\n\t\twidth: 100%;\n\t\tpadding-bottom: 20rpx;\n\t}\n\n\t.addr-box {\n\t\tdisplay: flex;\n\t\talign-items: flex-end;\n\t\tjustify-content: space-between;\n\t}\n\n\t.addr-detail {\n\t\twidth: 450rpx;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\tdisplay: -webkit-box;\n\t\t-webkit-line-clamp: 2;\n\t\t/* autoprefixer: off */\n\t\t-webkit-box-orient: vertical;\n\t\t/* autoprefixer: on */\n\t\tfont-size: 24rpx;\n\t\tcolor: #999;\n\t}\n\n\t.distance {\n\t\tcolor: #5677fc;\n\t\tpadding-right: 6rpx;\n\t}\n\n\t.addr-opera {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t}\n\n\t.opera-box {\n\t\ttext-align: center;\n\t\tmargin-left: 26rpx;\n\t}\n\n\t.mini-img {\n\t\twidth: 44rpx;\n\t\theight: 44rpx;\n\t}\r\n\t.smart-img{\r\n\t\twidth:32rpx;\r\n\t\theight: 30rpx;\r\n\t}\n\n\t.text {\n\t\tcolor: #333;\n\t\tfont-size: 24rpx;\n\t\tline-height: 30rpx;\n\t}\r\n\t.map::after {\r\n\t\tcontent: '';\r\n\t\tposition: absolute;\r\n\t\twidth: 0;\r\n\t\theight: 0;\r\n\t\tborder-top: solid 6px #FFFFFF;\r\n\t\tborder-right: solid 6px transparent;\r\n\t\tborder-left: solid 6px transparent;\r\n\t\tleft: 50%;\r\n\t\tbottom: -6px;\r\n\t\tmargin-left: -6px;\r\n\t}\n</style>\n","import mod from \"-!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./map.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Download\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./map.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1620745139531\n      var cssReload = require(\"D:/Download/HBuilderX.2.7.5.20200519.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}